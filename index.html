<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>御神籤 Omikuji — Ganzan Daishi Hyakusen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@200;300;400;600&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Noto+Sans+JP:wght@300;400&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="noise"></div>
  <div class="paper-texture"></div>

  <!-- Floating petals -->
  <div class="petals" id="petals"></div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-kanji">元三大師百籤</div>
    <h1 class="site-title">御神籤<span class="romanji">Omikuji</span></h1>
    <p class="subtitle">Ganzan Daishi Hyakusen — One Hundred Sacred Lots</p>
  </header>

  <!-- Intro screen -->
  <section class="intro" id="intro">
    <div class="shrine-gate">
      <div class="torii">
        <div class="torii-top"></div>
        <div class="torii-crossbar"></div>
        <div class="torii-pillar left"></div>
        <div class="torii-pillar right"></div>
      </div>
    </div>
    <div class="intro-text">
      <p class="intro-desc">Since the Heian period, the sacred oracle of Ryōgen — <em>Ganzan Daishi</em> — has guided those who seek the wisdom of Kannon Bodhisattva. Close your eyes, still your mind, and draw your lot.</p>
      <button class="draw-btn" id="drawBtn" onclick="drawOmikuji()">
        <span class="btn-kanji">籤を引く</span>
        <span class="btn-text">Draw Your Omikuji</span>
      </button>
    </div>
  </section>

  <!-- Shake animation screen -->
  <section class="shaking-screen" id="shakingScreen" style="display:none;">
    <div class="cylinder-wrap">
      <div class="cylinder" id="cylinder">
        <div class="cylinder-body">
          <div class="stick-container" id="stickContainer">
            <!-- sticks generated by JS -->
          </div>
        </div>
        <div class="cylinder-top"></div>
        <div class="cylinder-hole"></div>
      </div>
    </div>
    <p class="shake-hint">The oracle stirs...</p>
  </section>

  <!-- Result screen -->
  <section class="result-screen" id="resultScreen" style="display:none;">
    <div class="omikuji-slip" id="omikujiSlip">
      <div class="slip-header">
        <div class="slip-number" id="slipNumber"></div>
        <div class="slip-title-block">
          <div class="fortune-kanji" id="fortuneKanji"></div>
          <div class="fortune-romaji" id="fortuneRomaji"></div>
          <div class="fortune-english" id="fortuneEnglish"></div>
        </div>
      </div>
      <div class="divider-ornament">❧</div>
      <div class="verse-block">
        <div class="verse-japanese" id="verseJapanese"></div>
        <div class="verse-reading" id="verseReading"></div>
        <div class="verse-translation" id="verseTranslation"></div>
      </div>
      <div class="divider-ornament">❧</div>
      <div class="aspects-grid" id="aspectsGrid"></div>
      <div class="slip-footer">
        <div class="footer-kanji">元三大師百籤</div>
        <div class="footer-text">Ganzan Daishi Hyakusen</div>
      </div>
    </div>
    <div class="result-actions">
      <button class="action-btn secondary" onclick="resetApp()">Draw Again</button>
      <button class="action-btn primary" onclick="shareResult()">Share Fortune</button>
    </div>
    <p class="tie-note" id="tieNote"></p>
  </section>

  <footer class="site-footer">
    <p>Based on the Ganzan Daishi Hyakusen (元三大師百籤), attributed to Ryōgen (912–985), Tendai monk and Jie Daishi, as revealed by Kannon Bodhisattva.</p>
  </footer>

  <script src="fortunes.js"></script>
  <script src="app.js"></script>
</body>
</html>
